{% doc %}
  @prompt
    Create a premium, animated website header for the brand Schnappix 24/7, a modern self-service vending concept.
    Use the following brand identity:
    
    Brand name: Schnappix 24/7
    Primary color: #F15A29 (Schnappix Orange)
    Secondary color: #000000 (Deep Black)
    Accent color: #FFFFFF (Pure White)
    Text color: #FFFFFF
    Style: Modern, clean, energetic, minimalistic, with light ‚Äûtech vibes‚Äú and subtle neon-inspired glow
    Mood: Urban, dynamic, reliable, 24/7 availability
    
    ‚∏ª
    
    üé® Design Requirements
    
    Layout
    	‚Ä¢	Full-width header (desktop + mobile)
    	‚Ä¢	Center: Logo ‚ÄûSCHNAPPIX‚Äú in bold typography (use geometric Sans Serif)
    	‚Ä¢	Left: Hamburger menu icon
    	‚Ä¢	Visible on mobile and desktop
    	‚Ä¢	3-line animated hamburger (open ‚Üí X)
    	‚Ä¢	Right:
    	‚Ä¢	Search icon
    	‚Ä¢	Account icon
    	‚Ä¢	Cart icon
    	‚Ä¢	Localization (flag or dropdown)
    	‚Ä¢	All icons minimalistic, line-art, slightly rounded
    
    Spacing
    	‚Ä¢	Header height: 72‚Äì84px (desktop), 60px (mobile)
    	‚Ä¢	Logo centered vertically
    	‚Ä¢	Enough padding (24‚Äì32px left/right)
    
    ‚∏ª
    
    ‚ú® Animations
    
    Design visual motions so they can be exported for a dev handoff:
    
    When header loads:
    	‚Ä¢	Hamburger slides in from left (12‚Äì16px offset, 180ms ease-out)
    	‚Ä¢	Logo fades in + moves up 4px (220ms ease)
    	‚Ä¢	Icons slide from right (staggered: 80ms delay each)
    
    When user scrolls:
    	‚Ä¢	Sticky header shrinks (height 72px ‚Üí 56px)
    	‚Ä¢	Soft shadow appears (subtle glow in Schnappix Orange at 8% opacity)
    	‚Ä¢	Icons scale down to 92%
    
    ‚∏ª
    
    üìê Styles
    
    Background options (generate 2 variants):
    	1.	Clean black (#000) with 2% noise grain + glossy gradient overlay
    	2.	Dark blue-black gradient (like night city - slight energy-drink vibe)
    
    Logo style:
    	‚Ä¢	White text + orange ‚ÄúPIX‚Äù
    	‚Ä¢	Slight shadow glow (RGB 241, 90, 41 at 30% blur)
    
    Icons:
    	‚Ä¢	2px strokes
    	‚Ä¢	White
    	‚Ä¢	Rounded corners
    	‚Ä¢	Consistent visual weight
    
    ‚∏ª
    
    üì± Responsive layout
    
    Mobile:
    	‚Ä¢	Hamburger left
    	‚Ä¢	Logo centered
    	‚Ä¢	Icons right (max 2 visible, others in dropdown)
    	‚Ä¢	Sticky behavior identical
    
    Tablet:
    	‚Ä¢	Hamburger + logo left
    	‚Ä¢	Icons right
    
    Desktop:
    	‚Ä¢	Log
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-schnappix-header-{{ ai_gen_id }} {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    transition: height 0.3s ease, box-shadow 0.3s ease;
    {% if block.settings.background_style == 'gradient' %}
      background: linear-gradient(135deg, #0a0a14 0%, #1a1a2e 50%, #16213e 100%);
    {% else %}
      background: #000000;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.02) 2px, rgba(255,255,255,0.02) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.02) 2px, rgba(255,255,255,0.02) 4px);
    {% endif %}
  }

  .ai-schnappix-header-{{ ai_gen_id }}::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
    pointer-events: none;
  }

  .ai-schnappix-header-{{ ai_gen_id }}.scrolled {
    box-shadow: 0 4px 20px rgba(241, 90, 41, 0.08);
  }

  .ai-schnappix-header-container-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: {{ block.settings.header_height_desktop }}px;
    padding: 0 {{ block.settings.horizontal_padding }}px;
    max-width: 100%;
    margin: 0 auto;
    position: relative;
    transition: height 0.3s ease;
  }

  .ai-schnappix-header-{{ ai_gen_id }}.scrolled .ai-schnappix-header-container-{{ ai_gen_id }} {
    height: {{ block.settings.header_height_scrolled }}px;
  }

  .ai-schnappix-header-left-{{ ai_gen_id }},
  .ai-schnappix-header-right-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: {{ block.settings.icon_spacing }}px;
    flex: 1;
    opacity: 0;
    animation: ai-schnappix-slide-in-{{ ai_gen_id }} 0.4s ease-out 0.1s forwards;
  }

  .ai-schnappix-header-left-{{ ai_gen_id }} {
    justify-content: flex-start;
    animation-name: ai-schnappix-slide-in-left-{{ ai_gen_id }};
  }

  .ai-schnappix-header-right-{{ ai_gen_id }} {
    justify-content: flex-end;
    animation-name: ai-schnappix-slide-in-right-{{ ai_gen_id }};
  }

  .ai-schnappix-header-center-{{ ai_gen_id }} {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    animation: ai-schnappix-logo-appear-{{ ai_gen_id }} 0.5s ease 0.15s forwards;
  }

  .ai-schnappix-logo-{{ ai_gen_id }} {
    font-family: {{ block.settings.logo_font.family }}, {{ block.settings.logo_font.fallback_families }};
    font-weight: 700;
    font-size: {{ block.settings.logo_size }}px;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: #FFFFFF;
    text-decoration: none;
    display: inline-block;
    filter: drop-shadow(0 0 {{ block.settings.logo_glow_blur }}px rgba(241, 90, 41, {{ block.settings.logo_glow_opacity | divided_by: 100.0 }}));
    transition: filter 0.3s ease;
  }

  .ai-schnappix-logo-{{ ai_gen_id }}:hover {
    filter: drop-shadow(0 0 {{ block.settings.logo_glow_blur | times: 1.5 }}px rgba(241, 90, 41, {{ block.settings.logo_glow_opacity | divided_by: 100.0 | times: 1.3 }}));
  }

  .ai-schnappix-logo-accent-{{ ai_gen_id }} {
    color: {{ block.settings.accent_color }};
  }

  .ai-schnappix-hamburger-{{ ai_gen_id }} {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 5px;
    transition: transform 0.3s ease;
  }

  .ai-schnappix-hamburger-{{ ai_gen_id }}:hover {
    transform: scale(1.05);
  }

  .ai-schnappix-hamburger-line-{{ ai_gen_id }} {
    width: 24px;
    height: 2px;
    background-color: {{ block.settings.icon_color }};
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  .ai-schnappix-hamburger-{{ ai_gen_id }}.active .ai-schnappix-hamburger-line-{{ ai_gen_id }}:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
  }

  .ai-schnappix-hamburger-{{ ai_gen_id }}.active .ai-schnappix-hamburger-line-{{ ai_gen_id }}:nth-child(2) {
    opacity: 0;
  }

  .ai-schnappix-hamburger-{{ ai_gen_id }}.active .ai-schnappix-hamburger-line-{{ ai_gen_id }}:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }

  .ai-schnappix-icon-{{ ai_gen_id }} {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
    position: relative;
  }

  .ai-schnappix-header-{{ ai_gen_id }}.scrolled .ai-schnappix-icon-{{ ai_gen_id }} {
    transform: scale(0.92);
  }

  .ai-schnappix-icon-{{ ai_gen_id }}:hover {
    transform: scale(1.1);
  }

  .ai-schnappix-icon-{{ ai_gen_id }} svg {
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    stroke: {{ block.settings.icon_color }};
    stroke-width: 2px;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .ai-schnappix-cart-count-{{ ai_gen_id }} {
    position: absolute;
    top: 2px;
    right: 2px;
    background-color: {{ block.settings.accent_color }};
    color: #000000;
    font-size: 10px;
    font-weight: 700;
    min-width: 16px;
    height: 16px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 4px;
  }

  @keyframes ai-schnappix-slide-in-left-{{ ai_gen_id }} {
    from {
      opacity: 0;
      transform: translateX(-16px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes ai-schnappix-slide-in-right-{{ ai_gen_id }} {
    from {
      opacity: 0;
      transform: translateX(16px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes ai-schnappix-logo-appear-{{ ai_gen_id }} {
    from {
      opacity: 0;
      transform: translate(-50%, calc(-50% + 4px));
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%);
    }
  }

  .ai-schnappix-icon-{{ ai_gen_id }}:nth-child(1) {
    animation-delay: 0.2s;
  }

  .ai-schnappix-icon-{{ ai_gen_id }}:nth-child(2) {
    animation-delay: 0.28s;
  }

  .ai-schnappix-icon-{{ ai_gen_id }}:nth-child(3) {
    animation-delay: 0.36s;
  }

  .ai-schnappix-icon-{{ ai_gen_id }}:nth-child(4) {
    animation-delay: 0.44s;
  }

  @media screen and (max-width: 749px) {
    .ai-schnappix-header-container-{{ ai_gen_id }} {
      height: {{ block.settings.header_height_mobile }}px;
      padding: 0 {{ block.settings.horizontal_padding_mobile }}px;
    }

    .ai-schnappix-header-{{ ai_gen_id }}.scrolled .ai-schnappix-header-container-{{ ai_gen_id }} {
      height: {{ block.settings.header_height_mobile | minus: 8 }}px;
    }

    .ai-schnappix-logo-{{ ai_gen_id }} {
      font-size: {{ block.settings.logo_size_mobile }}px;
    }

    .ai-schnappix-icon-{{ ai_gen_id }} svg {
      width: {{ block.settings.icon_size_mobile }}px;
      height: {{ block.settings.icon_size_mobile }}px;
    }

    .ai-schnappix-icon-hidden-mobile-{{ ai_gen_id }} {
      display: none;
    }
  }

  @media screen and (min-width: 750px) and (max-width: 989px) {
    .ai-schnappix-header-container-{{ ai_gen_id }} {
      padding: 0 24px;
    }
  }
{% endstyle %}

<schnappix-header-{{ ai_gen_id }} class="ai-schnappix-header-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-schnappix-header-container-{{ ai_gen_id }}">
    <div class="ai-schnappix-header-left-{{ ai_gen_id }}">
      <button
        class="ai-schnappix-hamburger-{{ ai_gen_id }}"
        aria-label="Toggle menu"
        aria-expanded="false"
      >
        <span class="ai-schnappix-hamburger-line-{{ ai_gen_id }}"></span>
        <span class="ai-schnappix-hamburger-line-{{ ai_gen_id }}"></span>
        <span class="ai-schnappix-hamburger-line-{{ ai_gen_id }}"></span>
      </button>
    </div>

    <div class="ai-schnappix-header-center-{{ ai_gen_id }}">
      <a href="/" class="ai-schnappix-logo-{{ ai_gen_id }}">
        SCHNAP<span class="ai-schnappix-logo-accent-{{ ai_gen_id }}">PIX</span>
        {% if block.settings.show_247 %}
          <span style="font-size: 0.6em; margin-left: 4px;">24/7</span>
        {% endif %}
      </a>
    </div>

    <div class="ai-schnappix-header-right-{{ ai_gen_id }}">
      <button
        class="ai-schnappix-icon-{{ ai_gen_id }}"
        aria-label="Search"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </button>

      <a
        href="/account"
        class="ai-schnappix-icon-{{ ai_gen_id }} ai-schnappix-icon-hidden-mobile-{{ ai_gen_id }}"
        aria-label="Account"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </a>

      {% if block.settings.show_localization %}
        <button
          class="ai-schnappix-icon-{{ ai_gen_id }} ai-schnappix-icon-hidden-mobile-{{ ai_gen_id }}"
          aria-label="Language and currency"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="2" y1="12" x2="22" y2="12"></line>
            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
          </svg>
        </button>
      {% endif %}

      <a
        href="/cart"
        class="ai-schnappix-icon-{{ ai_gen_id }}"
        aria-label="Cart"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <span class="ai-schnappix-cart-count-{{ ai_gen_id }}">{{ cart.item_count }}</span>
      </a>
    </div>
  </div>
</schnappix-header-{{ ai_gen_id }}>

<script>
  (function() {
    class SchnappixHeader{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.header = this;
        this.hamburger = this.querySelector('.ai-schnappix-hamburger-{{ ai_gen_id }}');
        this.scrollThreshold = 50;
        this.isScrolled = false;
      }

      connectedCallback() {
        this.setupScrollListener();
        this.setupHamburgerToggle();
      }

      setupScrollListener() {
        let ticking = false;

        window.addEventListener('scroll', () => {
          if (!ticking) {
            window.requestAnimationFrame(() => {
              this.handleScroll();
              ticking = false;
            });
            ticking = true;
          }
        });
      }

      handleScroll() {
        const scrollPosition = window.scrollY;

        if (scrollPosition > this.scrollThreshold && !this.isScrolled) {
          this.header.classList.add('scrolled');
          this.isScrolled = true;
        } else if (scrollPosition <= this.scrollThreshold && this.isScrolled) {
          this.header.classList.remove('scrolled');
          this.isScrolled = false;
        }
      }

      setupHamburgerToggle() {
        if (this.hamburger) {
          this.hamburger.addEventListener('click', () => {
            const isActive = this.hamburger.classList.contains('active');
            this.hamburger.classList.toggle('active');
            this.hamburger.setAttribute('aria-expanded', !isActive);
          });
        }
      }
    }

    customElements.define('schnappix-header-{{ ai_gen_id }}', SchnappixHeader{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Schnappix header",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "select",
      "id": "background_style",
      "label": "Background style",
      "options": [
        {
          "value": "black",
          "label": "Clean black with grain"
        },
        {
          "value": "gradient",
          "label": "Dark gradient"
        }
      ],
      "default": "black"
    },
    {
      "type": "header",
      "content": "Logo"
    },
    {
      "type": "font_picker",
      "id": "logo_font",
      "label": "Logo font",
      "default": "assistant_n4"
    },
    {
      "type": "range",
      "id": "logo_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Logo size (desktop)",
      "default": 28
    },
    {
      "type": "range",
      "id": "logo_size_mobile",
      "min": 14,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Logo size (mobile)",
      "default": 20
    },
    {
      "type": "checkbox",
      "id": "show_247",
      "label": "Show 24/7 text",
      "default": true
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color (PIX)",
      "default": "#F15A29"
    },
    {
      "type": "range",
      "id": "logo_glow_blur",
      "min": 4,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Glow blur",
      "default": 12
    },
    {
      "type": "range",
      "id": "logo_glow_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Glow opacity",
      "default": 30
    },
    {
      "type": "header",
      "content": "Icons"
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 16,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Icon size (desktop)",
      "default": 22
    },
    {
      "type": "range",
      "id": "icon_size_mobile",
      "min": 14,
      "max": 28,
      "step": 2,
      "unit": "px",
      "label": "Icon size (mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "icon_spacing",
      "min": 8,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Icon spacing",
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "show_localization",
      "label": "Show localization",
      "default": true
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "header_height_desktop",
      "min": 60,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Height (desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "header_height_scrolled",
      "min": 48,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Height when scrolled",
      "default": 56
    },
    {
      "type": "range",
      "id": "header_height_mobile",
      "min": 52,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Height (mobile)",
      "default": 60
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "min": 16,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Horizontal padding (desktop)",
      "default": 32
    },
    {
      "type": "range",
      "id": "horizontal_padding_mobile",
      "min": 12,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Horizontal padding (mobile)",
      "default": 16
    }
  ],
  "presets": [
    {
      "name": "Schnappix header"
    }
  ]
}
{% endschema %}